{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatMessages=_ref=>{let{messages,indicatorState}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-900 chat-scroll\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end gap-2 chat-message mb-4 \".concat(msg.role==='user'?'justify-end':'justify-start'),children:[msg.role==='assistant'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm mb-1\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[70%] \".concat(msg.role==='user'?'flex flex-col items-end':'flex flex-col items-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 rounded-2xl shadow-lg relative group \".concat(msg.role==='user'?'bg-blue-500 text-white rounded-br-sm':'bg-gray-800 text-gray-100 rounded-bl-sm border border-gray-700'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap text-sm leading-relaxed\",children:msg.content}),msg.citations&&msg.citations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 pt-3 border-t border-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-medium mb-2 text-gray-400\",children:\"Sources:\"}),msg.citations.map((citation,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"text-xs\",children:/*#__PURE__*/_jsx(\"a\",{href:citation.source_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-400 hover:underline\",children:citation.source_description})},idx))]}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1.5 rounded-full \".concat(msg.role==='user'?'hover:bg-blue-600 text-blue-200':'hover:bg-gray-700 text-gray-400'),onClick:()=>navigator.clipboard.writeText(msg.content),title:\"Copy message\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"})})})]})}),msg.role==='user'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-sm mb-1\",children:\"\\uD83D\\uDC64\"})]},index)),indicatorState.map((indicator,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end gap-2 mb-4 justify-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm mb-1\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 border border-gray-700 px-4 py-3 rounded-2xl rounded-bl-sm shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]}),/*#__PURE__*/_jsx(\"em\",{className:\"text-sm text-gray-400\",children:indicator.status})]})})]},\"indicator-\".concat(index)))]})});};export default ChatMessages;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ChatMessages","_ref","messages","indicatorState","className","children","map","msg","index","concat","role","content","citations","length","citation","idx","href","source_url","target","rel","source_description","onClick","navigator","clipboard","writeText","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","indicator","style","animationDelay","status"],"sources":["C:/Users/shilo/Friedmann-initial-page/frontend/src/components/chat/messages.tsx"],"sourcesContent":["import React from 'react';\nimport { DisplayMessage, LoadingIndicator } from '../../types';\n\ninterface ChatMessagesProps {\n  messages: DisplayMessage[];\n  indicatorState: LoadingIndicator[];\n}\n\nconst ChatMessages: React.FC<ChatMessagesProps> = ({ messages, indicatorState }) => {\n  return (\n    <div className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-900 chat-scroll\">\n      <div className=\"max-w-4xl mx-auto\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`flex items-end gap-2 chat-message mb-4 ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>\n            {/* Avatar - only show for AI messages */}\n            {msg.role === 'assistant' && (\n              <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm mb-1\">\n                ðŸ“Š\n              </div>\n            )}\n            \n            {/* Message Bubble */}\n            <div className={`max-w-[70%] ${msg.role === 'user' ? 'flex flex-col items-end' : 'flex flex-col items-start'}`}>\n              <div className={`px-4 py-3 rounded-2xl shadow-lg relative group ${\n                msg.role === 'user' \n                  ? 'bg-blue-500 text-white rounded-br-sm' \n                  : 'bg-gray-800 text-gray-100 rounded-bl-sm border border-gray-700'\n              }`}>\n                <div className=\"whitespace-pre-wrap text-sm leading-relaxed\">{msg.content}</div>\n                {msg.citations && msg.citations.length > 0 && (\n                  <div className=\"mt-3 pt-3 border-t border-gray-600\">\n                    <div className=\"text-xs font-medium mb-2 text-gray-400\">Sources:</div>\n                    {msg.citations.map((citation, idx) => (\n                      <div key={idx} className=\"text-xs\">\n                        <a href={citation.source_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 hover:underline\">\n                          {citation.source_description}\n                        </a>\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                {/* Copy button */}\n                <button \n                  className={`absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1.5 rounded-full ${\n                    msg.role === 'user'\n                      ? 'hover:bg-blue-600 text-blue-200'\n                      : 'hover:bg-gray-700 text-gray-400'\n                  }`}\n                  onClick={() => navigator.clipboard.writeText(msg.content)}\n                  title=\"Copy message\"\n                >\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            \n            {/* Avatar - only show for user messages */}\n            {msg.role === 'user' && (\n              <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-sm mb-1\">\n                ðŸ‘¤\n              </div>\n            )}\n          </div>\n        ))}\n        \n        {/* Loading indicators */}\n        {indicatorState.map((indicator, index) => (\n          <div key={`indicator-${index}`} className=\"flex items-end gap-2 mb-4 justify-start\">\n            <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-sm mb-1\">\n              ðŸ“Š\n            </div>\n            <div className=\"bg-gray-800 border border-gray-700 px-4 py-3 rounded-2xl rounded-bl-sm shadow-lg\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex space-x-1\">\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n                </div>\n                <em className=\"text-sm text-gray-400\">{indicator.status}</em>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ChatMessages;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}