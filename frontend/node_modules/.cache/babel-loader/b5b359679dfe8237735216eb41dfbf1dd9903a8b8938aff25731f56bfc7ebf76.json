{"ast":null,"code":"import React,{useState}from'react';import{useClient}from'../contexts/ClientContext';import{Button}from'./ui/button';import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from'./ui/select';import{UserPlusIcon,UsersIcon}from'lucide-react';import{ClientDataForm}from'./financial/ClientDataForm';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const ClientSelector=()=>{const{currentClient,clients,setCurrentClient,createClient,isLoading}=useClient();const[showClientForm,setShowClientForm]=useState(false);const handleClientChange=clientId=>{const selectedClient=clients.find(client=>client.id===clientId);if(selectedClient){setCurrentClient(selectedClient);}};const handleClientDataSubmit=async clientData=>{const newClient=await createClient(clientData);if(newClient){setShowClientForm(false);}};if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-gray-400\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Loading clients...\"})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(UsersIcon,{className:\"w-4 h-4 text-gray-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:\"Client:\"})]}),/*#__PURE__*/_jsxs(Select,{value:(currentClient===null||currentClient===void 0?void 0:currentClient.id)||'',onValueChange:handleClientChange,children:[/*#__PURE__*/_jsx(SelectTrigger,{className:\"w-48 bg-gray-700 border-gray-600 text-gray-100\",children:/*#__PURE__*/_jsx(SelectValue,{placeholder:\"Select a client\"})}),/*#__PURE__*/_jsx(SelectContent,{className:\"bg-gray-800 border-gray-600\",children:clients.map(client=>/*#__PURE__*/_jsx(SelectItem,{value:client.id,className:\"text-gray-100 hover:bg-gray-700\",children:client.name},client.id))})]}),/*#__PURE__*/_jsxs(Button,{onClick:()=>setShowClientForm(true),variant:\"outline\",size:\"sm\",className:\"gap-2 text-gray-300 border-gray-600 hover:bg-gray-700\",children:[/*#__PURE__*/_jsx(UserPlusIcon,{className:\"w-4 h-4\"}),\"Add Client\"]})]}),showClientForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 border border-gray-700 p-6 rounded-xl max-w-md w-full m-4 shadow-xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-100\",children:\"Add New Client\"}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",onClick:()=>setShowClientForm(false),className:\"text-gray-400 hover:text-gray-200\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(ClientDataForm,{onSubmit:handleClientDataSubmit})]})})]});};","map":{"version":3,"names":["React","useState","useClient","Button","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","UserPlusIcon","UsersIcon","ClientDataForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ClientSelector","currentClient","clients","setCurrentClient","createClient","isLoading","showClientForm","setShowClientForm","handleClientChange","clientId","selectedClient","find","client","id","handleClientDataSubmit","clientData","newClient","className","children","value","onValueChange","placeholder","map","name","onClick","variant","size","onSubmit"],"sources":["C:/Users/shilo/Friedmann-initial-page/frontend/src/components/ClientSelector.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useClient } from '../contexts/ClientContext';\r\nimport { Button } from './ui/button';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\r\nimport { UserPlusIcon, UsersIcon } from 'lucide-react';\r\nimport { ClientDataForm } from './financial/ClientDataForm';\r\n\r\nexport const ClientSelector: React.FC = () => {\r\n  const { currentClient, clients, setCurrentClient, createClient, isLoading } = useClient();\r\n  const [showClientForm, setShowClientForm] = useState(false);\r\n\r\n  const handleClientChange = (clientId: string) => {\r\n    const selectedClient = clients.find(client => client.id === clientId);\r\n    if (selectedClient) {\r\n      setCurrentClient(selectedClient);\r\n    }\r\n  };\r\n\r\n  const handleClientDataSubmit = async (clientData: any) => {\r\n    const newClient = await createClient(clientData);\r\n    if (newClient) {\r\n      setShowClientForm(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center gap-2 text-gray-400\">\r\n        <UsersIcon className=\"w-4 h-4\" />\r\n        <span className=\"text-sm\">Loading clients...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <UsersIcon className=\"w-4 h-4 text-gray-300\" />\r\n          <span className=\"text-sm text-gray-300\">Client:</span>\r\n        </div>\r\n        \r\n        <Select value={currentClient?.id || ''} onValueChange={handleClientChange}>\r\n          <SelectTrigger className=\"w-48 bg-gray-700 border-gray-600 text-gray-100\">\r\n            <SelectValue placeholder=\"Select a client\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"bg-gray-800 border-gray-600\">\r\n            {clients.map((client) => (\r\n              <SelectItem \r\n                key={client.id} \r\n                value={client.id}\r\n                className=\"text-gray-100 hover:bg-gray-700\"\r\n              >\r\n                {client.name}\r\n              </SelectItem>\r\n            ))}\r\n          </SelectContent>\r\n        </Select>\r\n\r\n        <Button\r\n          onClick={() => setShowClientForm(true)}\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          className=\"gap-2 text-gray-300 border-gray-600 hover:bg-gray-700\"\r\n        >\r\n          <UserPlusIcon className=\"w-4 h-4\" />\r\n          Add Client\r\n        </Button>\r\n      </div>\r\n\r\n      {showClientForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-gray-800 border border-gray-700 p-6 rounded-xl max-w-md w-full m-4 shadow-xl\">\r\n            <div className=\"flex justify-between items-center mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-gray-100\">Add New Client</h2>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => setShowClientForm(false)}\r\n                className=\"text-gray-400 hover:text-gray-200\"\r\n              >\r\n                âœ•\r\n              </Button>\r\n            </div>\r\n            <ClientDataForm onSubmit={handleClientDataSubmit} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}